<!DOCTYPE html>
<html>
<head>
<title>TikTok Upload</title>
</head>
<body>
<h2>Login con TikTok</h2>
<a href="/oauth/login">Iniciar sesi√≥n</a>

<h2>Subir video</h2>
<input type="file" id="videoFile" accept="video/mp4"/>
<button onclick="upload()">Subir</button>

<div id="status"></div>

<script>
async function upload() {
    const fileInput = document.getElementById("videoFile");
    if(fileInput.files.length === 0) {
        alert("Selecciona un video");
        return;
    }
    const file = fileInput.files[0];
    const formData = new FormData();
    formData.append("video", file);

    const res = await fetch("/upload-video", {
        method: "POST",
        body: formData,
    });
    const json = await res.json();
    document.getElementById("status").innerText = JSON.stringify(json, null, 2);
}
</script>
</body>
</html>
